<?xml version="1.0" encoding="utf-8" ?>
<components>
  <module name="Urban_Sustainability">
    <!-- 从类读取，多种计算 -->
    <component>
      <id>Urban_Sustainability</id>
      <name>Urban_Sustainability</name>
      <nickname>U_Sustain</nickname>
      <description>index calculation, included EC,WC, GC value</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="siteParameter" nickname="siteP" description="Parameter for index calculation"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputEnergyConsumption" nickname="oEC" description="result EC from site parameter, reuslt=[min,max], unit=kw"/>
        <output id="1"  name="outputWaterConsumption" nickname="oWC" description="result WC from site parameter, reuslt=[min,max], unit=T"/>
        <output id="2"  name="outputGarbageConsumption" nickname="oGC" description="result GC from site parameter, reuslt=[min,max], unit=kg"/>
      </outputs>
    </component>

    <!-- 从类读取，能源消耗量计算 -->
    <component>
      <id>Urban_Sustainability_Energy</id>
      <name>Urban_Sustainability_Energy</name>
      <nickname>U_Sustain_EC</nickname>
      <description>index calculation, included energy consumption</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="siteParameter" nickname="siteP" description="Parameter for index calculation"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputEnergyConsumption" nickname="oEC" description="result EC from site parameter, reuslt=[min,max], unit=kw"/>
      </outputs>
    </component>

    <!-- 从类读取，水资源消耗量计算-->
    <component>
      <id>Urban_Sustainability_Water</id>
      <name>Urban_Sustainability_Water</name>
      <nickname>U_Sustain_WC</nickname>
      <description>index calculation, included water consumption</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="siteParameter" nickname="siteP" description="Parameter for index calculation"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputWaterConsumption" nickname="oWC" description="result WC from site parameter, reuslt=[min,max], unit=T"/>
      </outputs>
    </component>

    <!-- 从类读取，固废资源产生量计算-->
    <component>
      <id>Urban_Sustainability_Garbage</id>
      <name>Urban_Sustainability_Garbage</name>
      <nickname>U_Sustain_GC</nickname>
      <description>index calculation, included garbage consumption</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="siteParameter" nickname="siteP" description="Parameter for index calculation"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputGarbageConsumption" nickname="oGC" description="result GC from site parameter, reuslt=[min,max], unit=kg"/>
        <output id="0"  name="outputGarbageConsumption" nickname="oGC" description="result GC from site parameter, reuslt=[min,max], unit=kg"/>
      </outputs>
    </component>

    <!-- 从现有数据读取，多种计算-->
    <component>
      <id>Urban_Sustainability_Custom</id>
      <name>Urban_Sustainability_Custom</name>
      <nickname>U_Sustain_C</nickname>
      <description>index calculation, included EC,WC, GC value based on input objects</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="inputBreps" nickname="inBrep" description="input breps to calculate index value"/>
        <input id="1" name="inputFunctions" nickname="inFun" description="input functions of each brep, R,C,H,O,GIC,M,W,S"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputEnergyConsumption" nickname="oEC" description="result EC from site parameter, reuslt=[min,max], unit=kw"/>
        <output id="1"  name="outputWaterConsumption" nickname="oWC" description="result WC from site parameter, reuslt=[min,max], unit=T"/>
        <output id="2"  name="outputGarbageConsumption" nickname="oGC" description="result GC from site parameter, reuslt=[min,max], unit=kg"/>
      </outputs>
    </component>

    <!-- 从现有数据读取，能源消耗量计算-->
    <component>
      <id>Urban_Sustainability_Custom_Energy</id>
      <name>Urban_Sustainability_Custom_Energy</name>
      <nickname>U_Sustain_C_E</nickname>
      <description>index calculation, included energy consumption based on input objects</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="inputBreps" nickname="inBrep" description="input breps to calculate index value"/>
        <input id="1" name="inputFunctions" nickname="inFun" description="input functions of each brep, R,C,H,O,GIC,M,W,S"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputEnergyConsumption" nickname="oEC" description="result EC from site parameter, reuslt=[min,max], unit=kw"/>
      </outputs>
    </component>

    <!-- 从现有数据读取，水资源消耗量计算-->
    <component>
      <id>Urban_Sustainability_Custom_Water</id>
      <name>Urban_Sustainability_Custom_Water</name>
      <nickname>U_Sustain_C_W</nickname>
      <description>index calculation, included water consumption based on input objects</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="inputBreps" nickname="inBrep" description="input breps to calculate index value"/>
        <input id="1" name="inputFunctions" nickname="inFun" description="input functions of each brep, R,C,H,O,GIC,M,W,S"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputWaterConsumption" nickname="oWC" description="result WC from site parameter, reuslt=[min,max], unit=T"/>
      </outputs>
    </component>

    <!-- 从现有数据读取，固废资源产生量计算-->
    <component>
      <id>Urban_Sustainability_Custom_Garbage</id>
      <name>Urban_Sustainability_Custom_Garbage</name>
      <nickname>U_Sustain_C_G</nickname>
      <description>index calculation, included garbage consumption based on input objects</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="inputBreps" nickname="inBrep" description="input breps to calculate index value"/>
        <input id="1" name="inputFunctions" nickname="inFun" description="input functions of each brep, R,C,H,O,GIC,M,W,S"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputGarbageConsumption" nickname="oGC" description="result GC from site parameter, reuslt=[min,max], unit=kg"/>
      </outputs>
    </component>

    <!-- 从现有数据读取，计算人口数据-->
    <component>
      <id>Urban_Sustainability_CalculatePopulation</id>
      <name>Urban_Sustainability_CalculatePopulation</name>
      <nickname>U_Sustain_CP</nickname>
      <description>calculate population in each residential building</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="inputBreps" nickname="inBrep" description="input brep list to calculate population"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputPopulation" nickname="outP" description="population in each building"/>
      </outputs>
    </component>

  </module>
  
  <module name="Urban_Spatial_Analysis">
    <!-- 从Rhino Brep转换到Rhino Mesh-->
    <component>
      <id>Urban_Spatial_Analysis_GenerateMesh</id>
      <name>Urban_Spatial_Analysis_GenerateMesh</name>
      <nickname>U_SA_GM</nickname>
      <description>convert rhino brep into rhino mesh</description>
      <category>UrbanX</category>
      <subCategory>Urban_Spatial</subCategory>
      <inputs>
        <input id="0" name="brep" nickname="B" description="input brep"/>
        <input id="1" name="subdivisionSize" nickname="subSize" description="default is -1, system would auto-generate simplest geometry"/>
      </inputs>
      <outputs>
        <output id="0"  name="simpleMesh" nickname="M" description="output simplest mesh"/>
        <output id="1"  name="area" nickname="A" description="output area"/>
        <output id="2"  name="centerPoint" nickname="cenPt" description="output centerPt"/>
      </outputs>
    </component>

    <!-- 计算三维视线曝光，并返回每个点的可视概率-->
    <component>
      <id>Urban_Spatial_Analysis_ExposureRate3D</id>
      <name>Urban_Spatial_Analysis_ExposureRate3D</name>
      <nickname>U_SA_ER3d</nickname>
      <description>calculate the visibility ratio of each pt in 3d context(ratio=visible building/buildings in view range)</description>
      <category>UrbanX</category>
      <subCategory>Urban_Spatial</subCategory>
      <inputs>
        <input id="0"  name="viewPt" nickname="vPt" description="view pts in the context"/>
        <input id="1"  name="simpleMesh" nickname="M" description="input simplest mesh"/>
        <input id="2"  name="area" nickname="A" description="input area"/>
        <input id="3"  name="centerPoint" nickname="cenPt" description="input centerPt"/>
        <input id="4" name="subVertical" nickname="subV" description="the higher, the more accurate of ray intersection, but slower"/>
        <input id="5" name="subHorizontal" nickname="subH" description="the higher, the more accurate of ray intersection, but slower"/>
        <input id="6" name="viewRange" nickname="vRange" description="view range in each pt as radius"/>
      </inputs>
      <outputs>
        <output id="0"  name="ColoredMesh" nickname="M" description="output colored mesh"/>
        <output id="1"  name="ratio" nickname="A" description="output ratio of each pt"/>
      </outputs>
    </component>

    <!-- 从现有数据读取，建筑曝光率计算-->
    <component>
      <id>Urban_Spatial_Analysis_ExposureRate2D</id>
      <name>Urban_Spatial_Analysis_ExposureRate2D</name>
      <nickname>U_SA_ER2d</nickname>
      <description>calculate exposure rate of each side in builidng brep</description>
      <category>UrbanX</category>
      <subCategory>Urban_Sustainability</subCategory>
      <inputs>
        <input id="0" name="inputBreps" nickname="inBrep" description="input brep list to calculate exposure rate value"/>
        <input id="1" name="inputPts" nickname="inPts" description="input point list to create rays"/>
        <input id="2" name="nomalized" nickname="N" description="normalized the exposure rate value"/>
        <input id="3" name="radius" nickname="R" description="the radius of rays"/>
        <input id="4" name="segments" nickname="S" description="the segments of rays"/>
      </inputs>
      <outputs>
        <output id="0"  name="outputLines" nickname="L" description="brep outlines in first level"/>
        <output id="1"  name="outputExposureRates" nickname="ER" description="value for each brep outlines"/>
      </outputs>
    </component>
  </module>
</components>